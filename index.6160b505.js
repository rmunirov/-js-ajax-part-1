const e=document.getElementById("element"),t=document.getElementById("grid"),n=document.getElementById("free"),o=document.getElementById("error");let r={};if(!(e&&t&&n&&o))throw document.body.innerHTML="Internal error, please contact with developers",new Error("Internal error, please contact with developers");function l(e,o){const r=t=>e>=t.left&&e<=t.right&&o>=t.top&&o<=t.bottom;return r(t.getBoundingClientRect())?t:r(n.getBoundingClientRect())?n:null}function i(e){e&&e.classList.remove(`${e.id}_target`)}function c(){try{t.scrollHeight>t.clientHeight?t.classList.add("grid_scroll"):t.classList.remove("grid_scroll")}catch(e){o.innerHTML="Internal error, please contact with developers"}}function s(e,r){if(!r||!e)return;i(e);try{e===t&&(e=>{e.classList.remove("element_move"),t.append(e),c()})(r),e===n&&(e=>{const t=n.getBoundingClientRect();e.style.left=parseFloat(e.style.left)-t.left-window.scrollX-1+"px",e.style.top=parseFloat(e.style.top)-t.top-window.scrollY-1+"px",n.append(e)})(r)}catch(e){o.innerHTML="Internal error, please contact with developers"}}function a(e,r){i(t),i(n);const c=l(e,r);c&&function(e){if(e)try{e.classList.add(`${e.id}_target`)}catch(e){o.innerHTML="Internal error, please contact with developers"}}(c)}function d(e,t){r.elem&&(r.elem.style.left=e-r.shiftX+"px",r.elem.style.top=t-r.shiftY+"px")}function p(e){d(e.pageX,e.pageY),a(e.clientX,e.clientY)}function m(e){if(document.removeEventListener("pointermove",p),e.target.removeEventListener("pointerup",m),!r.elem)return;const t=l(e.clientX,e.clientY);t?s(t,r.elem):r.elem.remove(),r={}}e.addEventListener("pointerdown",(function(t){const n=t.target,l=n.cloneNode(!0);l.removeAttribute("id"),n.style.backgroundColor=`#${Math.floor(16777215*Math.random()).toString(16)}`,r.shiftX=t.clientX-n.getBoundingClientRect().left,r.shiftY=t.clientY-n.getBoundingClientRect().top,r.elem=l,function(t,n,l){if(r.elem)try{r.elem.addEventListener("dragstart",(()=>!1)),r.elem.classList.add("element_move"),document.body.append(r.elem),document.addEventListener("pointermove",p),"touch"===l?e.addEventListener("pointerup",m):r.elem.addEventListener("pointerup",m),d(t,n)}catch(e){o.innerHTML="Internal error, please contact with developers"}}(t.pageX,t.pageY,t.pointerType)}));new ResizeObserver((()=>{c()})).observe(t);
//# sourceMappingURL=index.6160b505.js.map
