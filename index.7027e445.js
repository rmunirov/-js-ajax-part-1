const e=document.getElementById("element"),t=document.getElementById("grid"),n=document.getElementById("free"),r=document.getElementById("error");let o={};if(!(e&&t&&n&&r))throw document.body.innerHTML="Internal error, please contact with developers",new Error("Internal error, please contact with developers");function i(e,r){const o=t=>e>=t.left&&e<=t.right&&r>=t.top&&r<=t.bottom;return o(t.getBoundingClientRect())?t:o(n.getBoundingClientRect())?n:null}function l(e){e&&e.classList.remove(`${e.id}_target`)}function c(){try{t.scrollHeight>t.clientHeight?t.classList.add("grid_scroll"):t.classList.remove("grid_scroll")}catch(e){r.innerHTML="Internal error, please contact with developers"}}function s(e,o){if(!o||!e)return;l(e);try{e===t&&(e=>{e.classList.remove("element_move"),t.append(e),c()})(o),e===n&&(e=>{e.style.left=parseInt(e.style.left,10)-n.getBoundingClientRect().left-1+"px",e.style.top=parseInt(e.style.top,10)-n.getBoundingClientRect().top-1+"px",n.append(e)})(o)}catch(e){r.innerHTML="Internal error, please contact with developers"}}function d(e,o){l(t),l(n);const c=i(e,o);c&&function(e){if(e)try{e.classList.add(`${e.id}_target`)}catch(e){r.innerHTML="Internal error, please contact with developers"}}(c)}function a(e,t){o.elem&&(o.elem.style.left=e-o.shiftX+"px",o.elem.style.top=t-o.shiftY+"px")}function p(e){a(e.pageX,e.pageY),d(e.clientX,e.clientY)}function m(e){if(document.removeEventListener("pointermove",p),e.target.removeEventListener("pointerup",m),!o.elem)return;const t=i(e.clientX,e.clientY);t?s(t,o.elem):o.elem.remove(),o={}}e.addEventListener("pointerdown",(function(t){const n=t.target,i=n.cloneNode(!0);i.removeAttribute("id"),n.style.backgroundColor=`#${Math.floor(16777215*Math.random()).toString(16)}`,o.shiftX=t.clientX-n.getBoundingClientRect().left,o.shiftY=t.clientY-n.getBoundingClientRect().top,o.elem=i,function(t,n,i){if(o.elem)try{o.elem.addEventListener("dragstart",(()=>!1)),o.elem.classList.add("element_move"),document.body.append(o.elem),document.addEventListener("pointermove",p),"touch"===i?e.addEventListener("pointerup",m):o.elem.addEventListener("pointerup",m),a(t,n)}catch(e){r.innerHTML="Internal error, please contact with developers"}}(t.pageX,t.pageY,t.pointerType)}));new ResizeObserver((()=>{c()})).observe(t);
//# sourceMappingURL=index.7027e445.js.map
